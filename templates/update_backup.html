{% extends 'base.html' %}

{% block content %}

	{% for message in get_flashed_messages() %}
		<div class="alert alert-success alert-dismissible fade show" role="alert">
			{{ message }}
		  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
	{% endfor %}
	
	{% if id == current_user.id %}
		<br/><br/><br/>
		<div class="card shadow bg-body rounded">
			<div class="card-header">
				<h5>Update Your Profile</h5>
			</div>
			<div class="card-body">
				<h5 class="card-title">Welcome To Your User Dashboard!</h5>
				<p class="card-text">
					<form action="/update/{{name_to_update.id}}" method="POST">
						{{form.hidden_tag()}}
						
						{{form.name.label(class="form-label")}}
						{{form.name(class="form-control", value=name_to_update.name)}}
						<br/>
						
						{{form.username.label(class="form-label")}}
						{{form.username(class="form-control", value=name_to_update.username)}}
						<br/>
						
						{{form.email.label(class="form-label")}}
						{{form.email(class="form-control", value=name_to_update.email)}}
						<br/>
						
						{{form.favorite_color.label(class="form-label")}}
						{{form.favorite_color(class="form-control", value=name_to_update.favorite_color)}}
						<br/>
						
						{{form.submit(class="btn btn-secondary")}}
						<a href="{{url_for('delete', id=id)}}" class="btn btn-danger">Delete</a>
					</form>
				</p>
			</div>
		</div>
		<br/><br/><br/>		
	{% else %}
		<div class="alert alert-success alert-dismissible fade show" role="alert">
			Sorry! You Can't Edit Another User's Profile...
		  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		<h2>Access Denied</h2>
		<p>You cannot access another person's profile...</p>
	{% endif %}
	
{% endblock %}